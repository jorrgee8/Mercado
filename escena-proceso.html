<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Almacén</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <script>
        AFRAME.registerComponent('stay-in-room', {
            schema: {
                minX: { type: 'number', default: -18 },
                maxX: { type: 'number', default: 18 },
                minZ: { type: 'number', default: -18 },
                maxZ: { type: 'number', default: 18 },
                minY: { type: 'number', default: 1.6 },
                maxY: { type: 'number', default: 6 }
            },
            tick: function () {
                const p = this.el.object3D.position;
                p.x = Math.min(this.data.maxX, Math.max(this.data.minX, p.x));
                p.z = Math.min(this.data.maxZ, Math.max(this.data.minZ, p.z));
                p.y = Math.min(this.data.maxY, Math.max(this.data.minY, p.y));
            }
        });

        AFRAME.registerComponent('go-to', {
            schema: { url: { type: 'string' } },
            init() {
                this.el.addEventListener('click', () => {
                    window.location.href = this.data.url;
                });
            }
        });
    </script>
</head>

<body>
<a-scene cursor="rayOrigin: mouse">


    <a-plane rotation="-90 0 0" width="40" height="40" color="#9e9e9e"></a-plane>


    <a-box position="0 6 -20" width="40" height="12" depth="0.5" color="#cfd8dc"></a-box>
    <a-box position="0 6 20" width="40" height="12" depth="0.5" color="#cfd8dc"></a-box>
    <a-box position="-20 6 0" width="0.5" height="12" depth="40" color="#cfd8dc"></a-box>
    <a-box position="20 6 0" width="0.5" height="12" depth="40" color="#cfd8dc"></a-box>


    <a-plane position="0 12 0" rotation="90 0 0" width="40" height="40" color="#b0bec5"></a-plane>


    <a-entity id="player"
        position="0 1.6 10"
        stay-in-room
        wasd-controls="acceleration:40; fly:false"
        look-controls>
        <a-entity camera></a-entity>
    </a-entity>


    <a-entity light="type: ambient; intensity: 0.6"></a-entity>

    <a-entity position="0 10 0">
        <a-entity light="type: point; intensity: 1.2; distance: 30" position="-10 0 -10"></a-entity>
        <a-entity light="type: point; intensity: 1.2; distance: 30" position="10 0 -10"></a-entity>
        <a-entity light="type: point; intensity: 1.2; distance: 30" position="-10 0 10"></a-entity>
        <a-entity light="type: point; intensity: 1.2; distance: 30" position="10 0 10"></a-entity>
    </a-entity>


    <a-entity position="-12 0 0">
        <a-box position="0 4 0" width="1" height="8" depth="16" color="#6d4c41"></a-box>
        <a-box position="0 2 0" width="1.2" height="0.2" depth="16" color="#a1887f"></a-box>
        <a-box position="0 4 0" width="1.2" height="0.2" depth="16" color="#a1887f"></a-box>
        <a-box position="0 6 0" width="1.2" height="0.2" depth="16" color="#a1887f"></a-box>

        <a-box position="1 1 -4" width="1" height="1" depth="1" color="#ffcc80"></a-box>
        <a-box position="1 3 -2" width="1" height="1" depth="1" color="#90caf9"></a-box>
        <a-box position="1 5 2" width="1" height="1" depth="1" color="#a5d6a7"></a-box>
    </a-entity>

    <a-entity position="12 0 0">
        <a-box position="0 4 0" width="1" height="8" depth="16" color="#6d4c41"></a-box>
        <a-box position="0 2 0" width="1.2" height="0.2" depth="16" color="#a1887f"></a-box>
        <a-box position="0 4 0" width="1.2" height="0.2" depth="16" color="#a1887f"></a-box>
        <a-box position="0 6 0" width="1.2" height="0.2" depth="16" color="#a1887f"></a-box>

        <a-box position="-1 1 -3" width="1.2" height="0.6" depth="1.2" color="#bcaaa4"></a-box>
        <a-box position="-1 3 1" width="1.2" height="0.6" depth="1.2" color="#bcaaa4"></a-box>
    </a-entity>


    <a-entity position="0 0 -10">
        <a-box position="0 0.3 0" width="2" height="0.3" depth="1.5" color="#8d6e63"></a-box>
        <a-box position="0 1.1 0" width="1.5" height="1.2" depth="1.2" color="#ffe082"></a-box>
    </a-entity>


    <a-entity position="0 2 -19">

        <a-plane width="8" height="2.2" color="#ffffff"></a-plane>

        <a-entity position="-3 0 0.01" go-to="url: escena-360.html">
            <a-box width="2.2" height="0.9" depth="0.2" color="#a5d6a7"></a-box>
            <a-text value="TIENDA" align="center" position="0 0 0.15"></a-text>
        </a-entity>

        <a-entity position="0 0 0.01" go-to="url: escena-proceso.html">
            <a-box width="2.2" height="0.9" depth="0.2" color="#90caf9"></a-box>
            <a-text value="ALMACÉN" align="center" position="0 0 0.15"></a-text>
        </a-entity>

        <a-entity position="3 0 0.01" go-to="url: escena-resultado.html">
            <a-box width="2.2" height="0.9" depth="0.2" color="#ffcc80"></a-box>
            <a-text value="MINIJUEGO" align="center" position="0 0 0.15"></a-text>
        </a-entity>

    </a-entity>


</a-scene>
</body>
</html>
